<MudContainer MaxWidth="MaxWidth.Large" Class="dashboard-container">
    <MudExpansionPanels MultiExpansion="true">
        <MudExpansionPanel Text="Shops" Expanded="true">
            <MudGrid>
                @foreach (var shop in ShopsForModerations)
                {
                    <MudItem xs="12" sm="6" md="4">
                        <MudCard Class="shop-card private-shop-card">
                            <MudCardContent>
                                <MudText Typo="Typo.h6">@shop.Name</MudText>
                                <MudText Typo="Typo.body2">@shop.Description</MudText>
                            </MudCardContent>
                            <MudCardActions>
                                <MudTooltip Duration="1000" Text="Duration: 1000" Arrow="true" Color="Color.Primary" Placement="Placement.Start">
                                    <ChildContent>
                                        <MudIconButton Icon="@Icons.Material.Filled.Info" />
                                    </ChildContent>
                                    <TooltipContent>
                                        <MudPaper Elevation="3" Class="pa-4">
                                            <MudText Typo="Typo.subtitle1">Shop Details</MudText>
                                            <MudDivider Class="my-2" />
                                            <MudText Typo="Typo.body2"><MudIcon Icon="@Icons.Material.Filled.DateRange" /> Created: @shop.CreatedAt.ToShortDateString()</MudText>
                                            <MudText Typo="Typo.body2"><MudIcon Icon="@Icons.Material.Filled.VerifiedUser" /> Created: @shop.OwnerName</MudText>
                                        </MudPaper>
                                    </TooltipContent>
                                </MudTooltip>
                                <MudTooltip Text="Accept">
                                    <MudIconButton Icon="@Icons.Material.Filled.OpenWith" Color="Color.Primary" OnClick="@(() => ToggleOpen(true))" />
                                </MudTooltip>
                                <MudTooltip Text="Reject">
                                    <MudIconButton Icon="@Icons.Material.Filled.Remove" Color="Color.Secondary" OnClick="@(() => ToggleOpen(false))" />
                                </MudTooltip>
                                <MudPopover Open="@_open" Fixed="true" Class="px-4 pt-4">
                                    <div class="d-flex flex-column">
                                        <MudText>Are you sure you want to perform this action?</MudText>
                                        <div>
                                            <MudButton Disabled="@_processing" Variant="Variant.Filled" Style="@($"background:{Colors.Cyan.Darken3}")" OnClick="@(() => ModerateShop(shop))">
                                                @if (_processing)
                                                {
                                                    <MudProgressCircular Class="ms-n1" Size="MudBlazor.Size.Small" Indeterminate="true" Style="@($"color:{Colors.Cyan.Darken3}")" />
                                                }
                                                else
                                                {
                                                    <MudText Style="@($"color:white;")">Yes</MudText>
                                                }
                                            </MudButton>

                                            <MudButton OnClick="@(() => ToggleOpen(false))" Class="ml-auto mr-n3 mb-1" Color="Color.Error">No</MudButton>
                                        </div>
                                    </div>
                                </MudPopover>
                            </MudCardActions>
                        </MudCard>
                    </MudItem>
                }
            </MudGrid>
        </MudExpansionPanel>
        <MudExpansionPanel Text="Items" Expanded="true">
        </MudExpansionPanel>
    </MudExpansionPanels>
</MudContainer>