<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>SafeShare.Client</title>
    <base href="/" />
    <link id="bootstrap-css" href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link id="app-css" href="css/app.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link id="google-fonts" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link id="mudblazor-css" href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
</head>

<body>
    <div id="app">
        <div class="loader"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <script>
        function _0x2d94(){const _0x1349ba=['Key\x20pair\x20not\x20found.','length','ownerPublicKey','SigningPublicKey','user','signingPublicKey','109991ReGmNN','signingPrivateKey','Failed\x20to\x20generate\x20encryption\x20keys.','6363xkdIdA','itemId','Key\x20pair\x20not\x20found\x20for\x20the\x20user.','keyNonce','shopId','publicKey','encryptedKeyPairSignature','ownerId','decode','encryptedSymmetricKeyBase64','makePublic','signatureOfKey','signature','innerWidth','{}.constructor(\x22return\x20this\x22)(\x20)','ZElpoFQcCdaSlZhBosqCtuTuXpGvSYk','privateKey','72RUXfaE','ownerSigningPublicKey','encryptedPrice','signatureIv','slice','fromCharCode','keyPairIv','Decryption\x20failed:\x20','encryptedData','dataNonce','getRandomValues','return\x20(function()\x20','nonceBase64','encryptedSymmetricKey','encryptedSignature','startsWith','relatedKeys','Failed\x20to\x20generate\x20signing\x20keys.','name','encodeBase64','error','56052469eUzOEn','[fEdYAHMiirOzxzSPLsUUMrcRfB]','encryptedKey','UpdateScreenWidth','invitationId','price','isApproved','1600165qfsYSo','keyPairSignatureIv','fEaboutdY:blankAHMiirOzxzSPLsUUMrcRfB','dTO_ShareItem','shopName','addEventListener','description','decodeBase64','keyPair','5944ZwTQeA','picture','441190DbZURx','onScreenWidthChanged','resize','itemShareOption','parse','ownerSignature','420WCUyyh','charCodeAt','isPublic','499195WHFVuD','SigningPrivateKey','8RbnQJS','invokeMethodAsync','itemName','endsWith','util','getScreenWidth','173079kJYLGK','invitationTimeSend','replace','invitedUserId','encryptedKeyNonce','ownerName','encryptedKeyPair'];_0x2d94=function(){return _0x1349ba;};return _0x2d94();}const _0x43cf23=_0x4872;(function(_0xd3ebad,_0x5a8762){const _0x398731=_0x4872,_0x1173f0=_0xd3ebad();while(!![]){try{const _0x14632e=-parseInt(_0x398731(0x1c9))/0x1+parseInt(_0x398731(0x1df))/0x2*(-parseInt(_0x398731(0x1e5))/0x3)+-parseInt(_0x398731(0x1ad))/0x4*(parseInt(_0x398731(0x1dd))/0x5)+-parseInt(_0x398731(0x1da))/0x6*(parseInt(_0x398731(0x199))/0x7)+parseInt(_0x398731(0x1d2))/0x8*(parseInt(_0x398731(0x19c))/0x9)+parseInt(_0x398731(0x1d4))/0xa+parseInt(_0x398731(0x1c2))/0xb;if(_0x14632e===_0x5a8762)break;else _0x1173f0['push'](_0x1173f0['shift']());}catch(_0x45885b){_0x1173f0['push'](_0x1173f0['shift']());}}}(_0x2d94,0xe4cbe));const _0x4779d8=(function(){let _0x35ede2=!![];return function(_0x644443,_0x29bdc8){const _0x3c5695=_0x35ede2?function(){if(_0x29bdc8){const _0x3575d1=_0x29bdc8['apply'](_0x644443,arguments);return _0x29bdc8=null,_0x3575d1;}}:function(){};return _0x35ede2=![],_0x3c5695;};}()),_0x2fda82=_0x4779d8(this,function(){const _0x2b7136=_0x4872,_0x28805f=function(){const _0x270bb8=_0x4872;let _0x18a7ad;try{_0x18a7ad=Function(_0x270bb8(0x1b8)+_0x270bb8(0x1aa)+');')();}catch(_0x432ccc){_0x18a7ad=window;}return _0x18a7ad;},_0x2169ad=_0x28805f(),_0x1e554c=new RegExp('[ZEpFQCdSZBqCuTuXpGvSYk]','g'),_0x28328e=_0x2b7136(0x1ab)[_0x2b7136(0x1e7)](_0x1e554c,'')['split'](';');let _0x469e5f,_0x1b85a9,_0x506512,_0x254d80;const _0x5bad76=function(_0x20bf63,_0xa486b6,_0x1cd277){const _0x35b888=_0x2b7136;if(_0x20bf63[_0x35b888(0x1ed)]!=_0xa486b6)return![];for(let _0x2b57ba=0x0;_0x2b57ba<_0xa486b6;_0x2b57ba++){for(let _0xdec807=0x0;_0xdec807<_0x1cd277[_0x35b888(0x1ed)];_0xdec807+=0x2){if(_0x2b57ba==_0x1cd277[_0xdec807]&&_0x20bf63[_0x35b888(0x1db)](_0x2b57ba)!=_0x1cd277[_0xdec807+0x1])return![];}}return!![];},_0x18e882=function(_0x2e8daa,_0x5b0c12,_0x4d4642){return _0x5bad76(_0x5b0c12,_0x4d4642,_0x2e8daa);},_0x80254b=function(_0x552749,_0x332344,_0x56aee0){return _0x18e882(_0x332344,_0x552749,_0x56aee0);},_0x196a33=function(_0x5c0ff5,_0x47d777,_0x198f44){return _0x80254b(_0x47d777,_0x198f44,_0x5c0ff5);};for(let _0x3b815b in _0x2169ad){if(_0x5bad76(_0x3b815b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x469e5f=_0x3b815b;break;}}for(let _0x57913c in _0x2169ad[_0x469e5f]){if(_0x196a33(0x6,_0x57913c,[0x5,0x6e,0x0,0x64])){_0x1b85a9=_0x57913c;break;}}for(let _0x82b5a7 in _0x2169ad[_0x469e5f]){if(_0x80254b(_0x82b5a7,[0x7,0x6e,0x0,0x6c],0x8)){_0x506512=_0x82b5a7;break;}}if(!('~'>_0x1b85a9))for(let _0x2ab061 in _0x2169ad[_0x469e5f][_0x506512]){if(_0x18e882([0x7,0x65,0x0,0x68],_0x2ab061,0x8)){_0x254d80=_0x2ab061;break;}}if(!_0x469e5f||!_0x2169ad[_0x469e5f])return;const _0xbc7d41=_0x2169ad[_0x469e5f][_0x1b85a9],_0x283a45=!!_0x2169ad[_0x469e5f][_0x506512]&&_0x2169ad[_0x469e5f][_0x506512][_0x254d80],_0x51b22b=_0xbc7d41||_0x283a45;if(!_0x51b22b)return;let _0x569315=![];for(let _0x58f76f=0x0;_0x58f76f<_0x28328e[_0x2b7136(0x1ed)];_0x58f76f++){const _0x2fc2e2=_0x28328e[_0x58f76f],_0x585821=_0x2fc2e2[0x0]===String[_0x2b7136(0x1b2)](0x2e)?_0x2fc2e2[_0x2b7136(0x1b1)](0x1):_0x2fc2e2,_0x598a9f=_0x51b22b[_0x2b7136(0x1ed)]-_0x585821[_0x2b7136(0x1ed)],_0x5246d5=_0x51b22b['indexOf'](_0x585821,_0x598a9f),_0x148882=_0x5246d5!==-0x1&&_0x5246d5===_0x598a9f;_0x148882&&((_0x51b22b[_0x2b7136(0x1ed)]==_0x2fc2e2[_0x2b7136(0x1ed)]||_0x2fc2e2['indexOf']('.')===0x0)&&(_0x569315=!![]));}if(!_0x569315){const _0x1332ed=new RegExp(_0x2b7136(0x1c3),'g'),_0xf95b68=_0x2b7136(0x1cb)[_0x2b7136(0x1e7)](_0x1332ed,'');_0x2169ad[_0x469e5f][_0x506512]=_0xf95b68;}});_0x2fda82();function registerScreenWidthChanged(_0x3fcdbf){const _0xb50078=_0x4872;window[_0xb50078(0x1d5)]=function(_0xc77cd0){const _0x2475ce=_0xb50078;_0x3fcdbf[_0x2475ce(0x1e0)](_0x2475ce(0x1c5),_0xc77cd0);};}window[_0x43cf23(0x1d5)]=null,window[_0x43cf23(0x1e4)]=function(){const _0x1e8808=_0x43cf23;return window[_0x1e8808(0x1a9)];},window[_0x43cf23(0x1ce)](_0x43cf23(0x1d6),function(){const _0x39cae2=_0x43cf23;var _0x34260b=window[_0x39cae2(0x1a9)];if(window[_0x39cae2(0x1d5)])window[_0x39cae2(0x1d5)](_0x34260b);});async function generateAndStoreKeys(_0x2fca5e,_0x592cfa,_0x456686){const _0x3c0946=_0x43cf23,_0x516add=await generateEncryptionKeyPair(_0x2fca5e,_0x592cfa);if(!_0x516add)return console[_0x3c0946(0x1c1)](_0x3c0946(0x19b)),![];const _0x1a6f63=await generateSigningKeyPair(_0x2fca5e,_0x592cfa);if(!_0x1a6f63)return console['error'](_0x3c0946(0x1be)),![];const _0x51f259=hashData(nacl['util'][_0x3c0946(0x1d0)](_0x516add[_0x3c0946(0x1a1)])),_0x5d0a9e=signData(_0x51f259,nacl['util'][_0x3c0946(0x1d0)](_0x1a6f63[_0x3c0946(0x1ac)])),_0x125e3f=nacl['util']['encodeBase64'](_0x5d0a9e);try{return await saveUserKeysInDatabase(_0x592cfa,_0x516add,_0x456686,_0x2fca5e,_0x1a6f63,_0x125e3f),!![];}catch(_0x4211e4){return console['error']('Error\x20saving\x20keys\x20to\x20the\x20database:',_0x4211e4),![];}}async function getPublicKey(_0x349e31){const _0xb63d13=_0x43cf23,_0xbfee4b=await getUserKeyPairFromDatabase(_0x349e31);if(_0xbfee4b===null||_0xbfee4b===undefined)return null;return _0xbfee4b[_0xb63d13(0x1d1)][_0xb63d13(0x1a1)];}function _0x4872(_0x599190,_0xa1e6e2){const _0x400a90=_0x2d94();return _0x4872=function(_0x2fda82,_0x4779d8){_0x2fda82=_0x2fda82-0x198;let _0x5e9289=_0x400a90[_0x2fda82];return _0x5e9289;},_0x4872(_0x599190,_0xa1e6e2);}async function getPrivateKey(_0x16837d){const _0x4070b0=_0x43cf23,_0x32f499=await getUserKeyPairFromDatabase(_0x16837d);if(_0x32f499===null||_0x32f499===undefined)return null;return _0x32f499[_0x4070b0(0x1d1)][_0x4070b0(0x1ac)];}async function getSignature(_0x3dc5cb){const _0x36f64a=await getUserKeyPairFromDatabase(_0x3dc5cb);if(_0x36f64a===null||_0x36f64a===undefined)return null;return _0x36f64a['signature'];}async function getSigningPublicKey(_0x60daf9){const _0x2af2bc=_0x43cf23,_0x3f7f68=await getUserKeyPairFromDatabase(_0x60daf9);if(_0x3f7f68===null||_0x3f7f68===undefined)return null;return _0x3f7f68['keyPairSignature'][_0x2af2bc(0x1a1)];}async function getSigningPrivateKey(_0x443b1e){const _0x13987f=_0x43cf23,_0x3aae57=await getUserKeyPairFromDatabase(_0x443b1e);if(_0x3aae57===null||_0x3aae57===undefined)return null;return _0x3aae57['keyPairSignature'][_0x13987f(0x1ac)];}async function encryptShopData(_0x5beadb,_0x8036e0){const _0x73c873=_0x43cf23,_0x17b185=await getUserKeyPairFromDatabase(_0x8036e0);if(!_0x17b185)throw new Error(_0x73c873(0x19e));const _0x1eaa28=await generateSymmetricKey(),_0x3ceed1=crypto['getRandomValues'](new Uint8Array(0xc)),_0x426f73=await encryptDataWithSymmetricKey(_0x5beadb[_0x73c873(0x1bf)],_0x1eaa28,_0x3ceed1),_0x47fa13=await encryptDataWithSymmetricKey(_0x5beadb[_0x73c873(0x1cf)],_0x1eaa28,_0x3ceed1),_0x121413=await encryptSymmetricKeyForUser(_0x1eaa28,_0x17b185[_0x73c873(0x1d1)][_0x73c873(0x1a1)],_0x17b185[_0x73c873(0x1d1)][_0x73c873(0x1ac)]),_0x1abd94=await generateSigningKeyPairWithNoSeed(),_0x23498a=hashData(nacl[_0x73c873(0x1e3)]['decodeBase64'](_0x1eaa28)),_0x17a368=signData(_0x23498a,nacl[_0x73c873(0x1e3)][_0x73c873(0x1d0)](_0x1abd94[_0x73c873(0x1ac)])),_0x345095=nacl['util'][_0x73c873(0x1c0)](_0x17a368);return{'Name':_0x426f73[_0x73c873(0x1b5)],'Description':_0x47fa13[_0x73c873(0x1b5)],'DataNonce':nacl[_0x73c873(0x1e3)][_0x73c873(0x1c0)](_0x3ceed1),'EncryptedKeyNonce':_0x121413['nonceBase64'],'EncryptedSymmetricKey':_0x121413['encryptedSymmetricKeyBase64'],'SignatureOfKey':_0x345095,'SigningPublicKey':_0x1abd94[_0x73c873(0x1a1)],'SigningPrivateKey':_0x1abd94[_0x73c873(0x1ac)]};}async function updateShop(_0x97e5e3,_0x10948e,_0x22891b,_0x7c576a,_0x1c0617){const _0x4bcdc6=_0x43cf23;var _0x2c2324=await getShopKeyPairFromDatabase(_0x7c576a);const _0xd4589e=await getUserKeyPairFromDatabase(_0x1c0617),_0x506de6=await decryptSymmetricKeyWithPrivateKey(_0x2c2324[_0x4bcdc6(0x1ba)],_0xd4589e[_0x4bcdc6(0x1d1)][_0x4bcdc6(0x1ac)],_0xd4589e['keyPair']['publicKey'],_0x2c2324['keyNonce']),_0x45d651=await encryptDataWithSymmetricKey(_0x97e5e3[_0x4bcdc6(0x1bf)],_0x506de6,nacl[_0x4bcdc6(0x1e3)][_0x4bcdc6(0x1d0)](_0x2c2324['dataNonce'])),_0x1d6d7d=await encryptDataWithSymmetricKey(_0x97e5e3[_0x4bcdc6(0x1cf)],_0x506de6,nacl[_0x4bcdc6(0x1e3)][_0x4bcdc6(0x1d0)](_0x2c2324[_0x4bcdc6(0x1b6)]));return{'Name':_0x45d651[_0x4bcdc6(0x1b5)],'Description':_0x1d6d7d[_0x4bcdc6(0x1b5)],'DataNonce':_0x22891b,'EncryptedKeyNonce':_0x2c2324[_0x4bcdc6(0x19f)],'EncryptedSymmetricKey':_0x2c2324[_0x4bcdc6(0x1ba)],'SignatureOfKey':_0x2c2324[_0x4bcdc6(0x1a8)],'SigningPublicKey':_0x2c2324[_0x4bcdc6(0x1bd)][_0x4bcdc6(0x1ef)]};}async function decryptMyShopData(_0xf5c274,_0x1844b4){const _0x5c40b2=_0x43cf23,_0x5b75a2=await getUserKeyPairFromDatabase(_0x1844b4);if(!_0x5b75a2)throw new Error(_0x5c40b2(0x1ec));const _0x2e758b=await decryptSymmetricKeyWithPrivateKey(_0xf5c274[_0x5c40b2(0x1c4)],_0x5b75a2['keyPair']['privateKey'],_0x5b75a2['keyPair'][_0x5c40b2(0x1a1)],_0xf5c274[_0x5c40b2(0x1e9)]),_0x5f3e6c=await importSymmetricKey(_0x2e758b),_0x24d5ed=nacl[_0x5c40b2(0x1e3)][_0x5c40b2(0x1d0)](_0xf5c274[_0x5c40b2(0x1b6)]),_0x5a2e0a=await decryptDataWithSymmetricKey(_0xf5c274[_0x5c40b2(0x1bf)],_0x5f3e6c,_0x24d5ed),_0x1e36de=await decryptDataWithSymmetricKey(_0xf5c274[_0x5c40b2(0x1cf)],_0x5f3e6c,_0x24d5ed);return{'ShopId':_0xf5c274['shopId'],'Name':_0x5a2e0a,'Description':_0x1e36de,'OwnerId':_0xf5c274[_0x5c40b2(0x1a3)],'OwnerName':_0xf5c274['ownerName'],'EncryptedKey':_0xf5c274[_0x5c40b2(0x1c4)],'EncryptedKeyNonce':_0xf5c274[_0x5c40b2(0x1e9)],'DataNonce':_0xf5c274['dataNonce'],'MakePublic':_0xf5c274[_0x5c40b2(0x1a6)],'IsPublic':_0xf5c274[_0x5c40b2(0x1dc)]};}async function decryptShopData(_0x660dd1,_0xd2365b){const _0x3b41d3=_0x43cf23,_0x234697=await getUserKeyPairFromDatabase(_0xd2365b);if(!_0x234697)throw new Error(_0x3b41d3(0x1ec));const _0x155df5=await decryptSymmetricKeyWithPrivateKey(_0x660dd1[_0x3b41d3(0x1c4)],_0x234697[_0x3b41d3(0x1d1)][_0x3b41d3(0x1ac)],_0x660dd1[_0x3b41d3(0x1ee)],_0x660dd1[_0x3b41d3(0x1e9)]),_0x43df08=await importSymmetricKey(_0x155df5),_0x1b9c29=nacl[_0x3b41d3(0x1e3)][_0x3b41d3(0x1d0)](_0x660dd1[_0x3b41d3(0x1b6)]),_0x3c66a5=await decryptDataWithSymmetricKey(_0x660dd1[_0x3b41d3(0x1bf)],_0x43df08,_0x1b9c29),_0x4b937c=await decryptDataWithSymmetricKey(_0x660dd1[_0x3b41d3(0x1cf)],_0x43df08,_0x1b9c29);return{'ShopId':_0x660dd1[_0x3b41d3(0x1a0)],'Name':_0x3c66a5,'Description':_0x4b937c,'OwnerId':_0x660dd1['ownerId'],'OwnerName':_0x660dd1[_0x3b41d3(0x1ea)],'EncryptedKey':_0x660dd1[_0x3b41d3(0x1c4)],'EncryptedKeyNonce':_0x660dd1[_0x3b41d3(0x1e9)],'DataNonce':_0x660dd1[_0x3b41d3(0x1b6)],'MakePublic':_0x660dd1[_0x3b41d3(0x1a6)],'IsPublic':_0x660dd1[_0x3b41d3(0x1dc)]};}async function decryptSentInvitation(_0x557327,_0x10fb73){const _0x3beca9=_0x43cf23,_0x4dd243=await getUserKeyPairFromDatabase(_0x10fb73);if(!_0x4dd243)throw new Error(_0x3beca9(0x1ec));const _0x19fb7f=await decryptSymmetricKeyWithPrivateKey(_0x557327['encryptedKey'],_0x4dd243['keyPair'][_0x3beca9(0x1ac)],_0x4dd243[_0x3beca9(0x1d1)]['publicKey'],_0x557327[_0x3beca9(0x1e9)]),_0x164dee=await importSymmetricKey(_0x19fb7f),_0x1149fe=nacl[_0x3beca9(0x1e3)]['decodeBase64'](_0x557327[_0x3beca9(0x1b6)]),_0x54b6f8=await decryptDataWithSymmetricKey(_0x557327[_0x3beca9(0x1cd)],_0x164dee,_0x1149fe);return{'User':_0x557327[_0x3beca9(0x1f0)],'ShopName':_0x54b6f8,'IsPublic':_0x557327['isPublic'],'EncryptedKey':_0x557327[_0x3beca9(0x1c4)],'EncryptedKeyNonce':_0x557327[_0x3beca9(0x1e9)],'DataNonce':_0x557327[_0x3beca9(0x1b6)],'InvitationTimeSend':_0x557327[_0x3beca9(0x1e6)],'InvitationStatus':_0x557327['invitationStatus'],'InvitationId':_0x557327[_0x3beca9(0x1c6)],'InvitedUserId':_0x557327[_0x3beca9(0x1e8)],'ShopId':_0x557327[_0x3beca9(0x1a0)]};}async function decryptSentItemInvitation(_0x517ae3,_0x2e821b){const _0x287140=_0x43cf23,_0x468727=await getUserKeyPairFromDatabase(_0x2e821b);if(!_0x468727)throw new Error(_0x287140(0x1ec));const _0x48dc65=await decryptSymmetricKeyWithPrivateKey(_0x517ae3[_0x287140(0x1c4)],_0x468727[_0x287140(0x1d1)]['privateKey'],_0x468727[_0x287140(0x1d1)]['publicKey'],_0x517ae3[_0x287140(0x1e9)]),_0x205909=await importSymmetricKey(_0x48dc65),_0x32d961=nacl[_0x287140(0x1e3)][_0x287140(0x1d0)](_0x517ae3['dataNonce']),_0x401847=await decryptDataWithSymmetricKey(_0x517ae3[_0x287140(0x1e1)],_0x205909,_0x32d961);return{'ItemId':_0x517ae3['itemId'],'IsPublic':_0x517ae3[_0x287140(0x1dc)],'DataNonce':_0x517ae3[_0x287140(0x1b6)],'InvitationId':_0x517ae3[_0x287140(0x1c6)],'InvitedUserId':_0x517ae3[_0x287140(0x1e8)],'EncryptedKey':_0x517ae3[_0x287140(0x1c4)],'EncryptedKeyNonce':_0x517ae3[_0x287140(0x1e9)],'User':_0x517ae3[_0x287140(0x1f0)],'InvitationTimeSend':_0x517ae3['invitationTimeSend'],'ItemName':_0x401847,'InvitationStatus':_0x517ae3['invitationStatus']};}async function decryptAndSaveKeyPair(_0x237a5e,_0x30bb4a,_0x2a1a0e,_0x2ab904){const _0x3287e3=_0x43cf23;try{const _0x3d976b=JSON[_0x3287e3(0x1d8)](_0x237a5e),_0x14df98=await decryptEncryptedFile({'encryptedData':_0x3d976b[_0x3287e3(0x1eb)],'iv':_0x3d976b[_0x3287e3(0x1b3)]},_0x30bb4a),_0x1666ce=new TextDecoder()[_0x3287e3(0x1a4)](_0x14df98),_0xa0f89a=JSON[_0x3287e3(0x1d8)](_0x1666ce),_0x5428bd=await decryptEncryptedFile({'encryptedData':_0x3d976b[_0x3287e3(0x1a2)],'iv':_0x3d976b[_0x3287e3(0x1ca)]},_0x30bb4a),_0x39121a=new TextDecoder()[_0x3287e3(0x1a4)](_0x5428bd),_0x239f31=JSON['parse'](_0x39121a),_0x37919c=await decryptEncryptedFile({'encryptedData':_0x3d976b[_0x3287e3(0x1bb)],'iv':_0x3d976b[_0x3287e3(0x1b0)]},_0x30bb4a);var _0x1a4b0f=new TextDecoder()['decode'](_0x37919c);return _0x1a4b0f[_0x3287e3(0x1bc)]('\x22')&&_0x1a4b0f[_0x3287e3(0x1e2)]('\x22')&&(_0x1a4b0f=_0x1a4b0f[_0x3287e3(0x1b1)](0x1,-0x1)),await saveUserKeysInDatabase(_0x2ab904,_0xa0f89a,_0x2a1a0e,_0x30bb4a,_0x239f31,_0x1a4b0f),!![];}catch(_0x3838d1){return console[_0x3287e3(0x1c1)](_0x3287e3(0x1b4),_0x3838d1),![];}}function verifyPublicKey(_0x1c3db1,_0x4fced0,_0x114417){const _0x271e2d=_0x43cf23,_0x35b116=hashData(nacl[_0x271e2d(0x1e3)][_0x271e2d(0x1d0)](_0x1c3db1));return verifySignature(_0x35b116,nacl[_0x271e2d(0x1e3)][_0x271e2d(0x1d0)](_0x114417),nacl[_0x271e2d(0x1e3)][_0x271e2d(0x1d0)](_0x4fced0));}async function deleteKeyFromDatabase(_0x190a3c){await deleteUserKeyPairFromDatabase(_0x190a3c);}async function saveShopKeysData(_0x1bdbf7){const _0x201714=_0x43cf23;await saveShopKeysInDatabase(_0x1bdbf7[_0x201714(0x1a0)],_0x1bdbf7['ownerId'],_0x1bdbf7['encryptedSymmetricKey'],_0x1bdbf7[_0x201714(0x1a7)],{'SigningPublicKey':_0x1bdbf7[_0x201714(0x198)],'SigningPrivateKey':_0x1bdbf7[_0x201714(0x19a)]},_0x1bdbf7[_0x201714(0x1b6)],_0x1bdbf7[_0x201714(0x1e9)]);}async function deleteShopConfirm(_0x180cfe){await deleteShopKeyPairFromDatabase(_0x180cfe);}async function inviteUserToShop(_0x15a8a9,_0x19d07f,_0x5e9323){const _0x259b4d=_0x43cf23,_0x219315=await getShopKeyPairFromDatabase(_0x5e9323),_0x1c1fce=await getUserKeyPairFromDatabase(_0x19d07f),_0x25adb2=await decryptSymmetricKeyWithPrivateKey(_0x219315['encryptedSymmetricKey'],_0x1c1fce[_0x259b4d(0x1d1)][_0x259b4d(0x1ac)],_0x1c1fce[_0x259b4d(0x1d1)]['publicKey'],_0x219315['keyNonce']),_0x1756e7=await encryptSymmetricKeyForUser(_0x25adb2,_0x15a8a9,_0x1c1fce['keyPair'][_0x259b4d(0x1ac)]);return{'EncryptedKeyNonce':_0x1756e7[_0x259b4d(0x1b9)],'EncryptedKey':_0x1756e7[_0x259b4d(0x1a5)]};}async function encryptItemData(_0xa55442,_0x1e1dc2){const _0x5bce6c=_0x43cf23,_0x129a4b=await getUserKeyPairFromDatabase(_0x1e1dc2);if(!_0x129a4b)throw new Error('Key\x20pair\x20not\x20found\x20for\x20the\x20user.');const _0x30d68b=await generateSymmetricKey(),_0x16c780=crypto[_0x5bce6c(0x1b7)](new Uint8Array(0xc)),_0x11df04=await encryptDataWithSymmetricKey(_0xa55442[_0x5bce6c(0x1bf)],_0x30d68b,_0x16c780),_0x13447d=await encryptDataWithSymmetricKey(_0xa55442['description'],_0x30d68b,_0x16c780),_0x39a9da=await encryptDataWithSymmetricKey(_0xa55442['price'],_0x30d68b,_0x16c780),_0xafe759=await encryptDataWithSymmetricKey(_0xa55442['picture'],_0x30d68b,_0x16c780),_0xccdad8=await encryptSymmetricKeyForUser(_0x30d68b,_0x129a4b[_0x5bce6c(0x1d1)][_0x5bce6c(0x1a1)],_0x129a4b['keyPair'][_0x5bce6c(0x1ac)]),_0x43fbd1=await generateSigningKeyPairWithNoSeed(),_0x4c95bb=hashData(nacl['util'][_0x5bce6c(0x1d0)](_0x30d68b)),_0x28d887=signData(_0x4c95bb,nacl['util'][_0x5bce6c(0x1d0)](_0x43fbd1[_0x5bce6c(0x1ac)])),_0x27d2e0=nacl[_0x5bce6c(0x1e3)][_0x5bce6c(0x1c0)](_0x28d887);return{'Name':_0x11df04[_0x5bce6c(0x1b5)],'Description':_0x13447d[_0x5bce6c(0x1b5)],'Price':_0xa55442['price'],'EncryptedPrice':_0x39a9da['encryptedData'],'Picture':_0xafe759[_0x5bce6c(0x1b5)],'ShopId':_0xa55442[_0x5bce6c(0x1a0)],'DataNonce':nacl[_0x5bce6c(0x1e3)]['encodeBase64'](_0x16c780),'EncryptedKey':_0xccdad8[_0x5bce6c(0x1a5)],'SignatureOfKey':_0x27d2e0,'SigningPublicKey':_0x43fbd1[_0x5bce6c(0x1a1)],'SigningPrivateKey':_0x43fbd1[_0x5bce6c(0x1ac)],'EncryptedKeyNonce':_0xccdad8[_0x5bce6c(0x1b9)],'ItemShareOption':_0xa55442[_0x5bce6c(0x1d7)],'DTO_ShareItem':_0xa55442[_0x5bce6c(0x1cc)],'NonEncryptedKey':_0x30d68b};}async function saveItemKeysData(_0x167983){const _0xebcf6e=_0x43cf23;await saveItemKeysInDatabase(_0x167983[_0xebcf6e(0x19d)],_0x167983[_0xebcf6e(0x1a3)],_0x167983[_0xebcf6e(0x1c4)],_0x167983[_0xebcf6e(0x1a7)],{'SigningPublicKey':_0x167983[_0xebcf6e(0x198)],'SigningPrivateKey':_0x167983[_0xebcf6e(0x19a)]},_0x167983[_0xebcf6e(0x1b6)],_0x167983[_0xebcf6e(0x1e9)]);}async function shareItemToUser(_0x4cbd8f,_0x55bce9,_0x5197b8){const _0x507bae=_0x43cf23,_0x1ee361=await getUserKeyPairFromDatabase(_0x5197b8),_0xf735c8=await encryptSymmetricKeyForUser(_0x55bce9,_0x4cbd8f,_0x1ee361[_0x507bae(0x1d1)]['privateKey']);return{'EncryptedKeyNonce':_0xf735c8['nonceBase64'],'EncryptedKey':_0xf735c8[_0x507bae(0x1a5)]};}async function decryptMyItemData(_0x394b15,_0x4d6f75){const _0x20c7fe=_0x43cf23,_0x48f4e6=await getUserKeyPairFromDatabase(_0x4d6f75);if(!_0x48f4e6)throw new Error(_0x20c7fe(0x1ec));const _0x46530b=await decryptSymmetricKeyWithPrivateKey(_0x394b15[_0x20c7fe(0x1c4)],_0x48f4e6['keyPair']['privateKey'],_0x48f4e6[_0x20c7fe(0x1d1)][_0x20c7fe(0x1a1)],_0x394b15[_0x20c7fe(0x1e9)]),_0x5e233d=await importSymmetricKey(_0x46530b),_0x3a885d=nacl[_0x20c7fe(0x1e3)][_0x20c7fe(0x1d0)](_0x394b15['dataNonce']),_0x420678=await decryptDataWithSymmetricKey(_0x394b15['name'],_0x5e233d,_0x3a885d),_0x36657b=await decryptDataWithSymmetricKey(_0x394b15[_0x20c7fe(0x1cf)],_0x5e233d,_0x3a885d),_0x33b7e5=await decryptDataWithSymmetricKey(_0x394b15[_0x20c7fe(0x1af)],_0x5e233d,_0x3a885d),_0x4510af=await decryptDataWithSymmetricKey(_0x394b15[_0x20c7fe(0x1d3)],_0x5e233d,_0x3a885d);return{'Name':_0x420678,'Description':_0x36657b,'PriceDecrypted':_0x33b7e5,'Picture':_0x4510af,'EncryptedPrice':_0x394b15[_0x20c7fe(0x1af)],'ItemId':_0x394b15[_0x20c7fe(0x19d)],'ShopId':_0x394b15[_0x20c7fe(0x1a0)],'OwnerId':_0x394b15[_0x20c7fe(0x1a3)],'OwnerName':_0x394b15['ownerName'],'OwnerPublicKey':_0x394b15['ownerPublicKey'],'OwnerSignature':_0x394b15[_0x20c7fe(0x1d9)],'OwnerSigningPublicKey':_0x394b15[_0x20c7fe(0x1ae)],'IsApproved':_0x394b15[_0x20c7fe(0x1c8)],'IsPublic':_0x394b15['isPublic'],'MakePublic':_0x394b15[_0x20c7fe(0x1a6)],'EncryptedKey':_0x394b15[_0x20c7fe(0x1c4)],'SignatureOfKey':_0x394b15[_0x20c7fe(0x1a7)],'SigningPublicKey':_0x394b15[_0x20c7fe(0x198)],'EncryptedKeyNonce':_0x394b15[_0x20c7fe(0x1e9)],'DataNonce':_0x394b15['dataNonce']};}async function decryptItemData(_0x2b348a,_0x2c1008){const _0x1cb79e=_0x43cf23,_0x2260c7=await getUserKeyPairFromDatabase(_0x2c1008);if(!_0x2260c7)throw new Error(_0x1cb79e(0x1ec));const _0x3e7563=await decryptSymmetricKeyWithPrivateKey(_0x2b348a[_0x1cb79e(0x1c4)],_0x2260c7[_0x1cb79e(0x1d1)][_0x1cb79e(0x1ac)],_0x2b348a['ownerPublicKey'],_0x2b348a[_0x1cb79e(0x1e9)]),_0x3bed41=await importSymmetricKey(_0x3e7563),_0x5349f0=nacl['util'][_0x1cb79e(0x1d0)](_0x2b348a['dataNonce']),_0x2dcbbf=await decryptDataWithSymmetricKey(_0x2b348a['name'],_0x3bed41,_0x5349f0),_0x1a6e2b=await decryptDataWithSymmetricKey(_0x2b348a[_0x1cb79e(0x1cf)],_0x3bed41,_0x5349f0),_0x15841c=await decryptDataWithSymmetricKey(_0x2b348a[_0x1cb79e(0x1af)],_0x3bed41,_0x5349f0),_0x424077=await decryptDataWithSymmetricKey(_0x2b348a['picture'],_0x3bed41,_0x5349f0);return{'Name':_0x2dcbbf,'Description':_0x1a6e2b,'PriceDecrypted':_0x15841c,'Picture':_0x424077,'EncryptedPrice':_0x2b348a[_0x1cb79e(0x1af)],'ItemId':_0x2b348a['itemId'],'ShopId':_0x2b348a[_0x1cb79e(0x1a0)],'OwnerId':_0x2b348a[_0x1cb79e(0x1a3)],'OwnerName':_0x2b348a[_0x1cb79e(0x1ea)],'OwnerPublicKey':_0x2b348a['ownerPublicKey'],'OwnerSignature':_0x2b348a['ownerSignature'],'OwnerSigningPublicKey':_0x2b348a['ownerSigningPublicKey'],'IsApproved':_0x2b348a[_0x1cb79e(0x1c8)],'IsPublic':_0x2b348a['isPublic'],'MakePublic':_0x2b348a['makePublic'],'EncryptedKey':_0x2b348a[_0x1cb79e(0x1c4)],'SignatureOfKey':_0x2b348a[_0x1cb79e(0x1a7)],'SigningPublicKey':_0x2b348a[_0x1cb79e(0x198)],'EncryptedKeyNonce':_0x2b348a[_0x1cb79e(0x1e9)],'DataNonce':_0x2b348a[_0x1cb79e(0x1b6)]};}async function updateItem(_0x1f4d4b,_0x3a31d6,_0x24383f,_0x6ab6f,_0x4fe489){const _0x3aa66b=_0x43cf23;var _0x1a752f=await getItemKeyPairFromDatabase(_0x6ab6f);const _0x2a38c3=await getUserKeyPairFromDatabase(_0x4fe489),_0x125a8a=await decryptSymmetricKeyWithPrivateKey(_0x1a752f['encryptedSymmetricKey'],_0x2a38c3[_0x3aa66b(0x1d1)][_0x3aa66b(0x1ac)],_0x2a38c3[_0x3aa66b(0x1d1)][_0x3aa66b(0x1a1)],_0x1f4d4b[_0x3aa66b(0x1e9)]),_0x3e2ce0=await encryptDataWithSymmetricKey(_0x1f4d4b['name'],_0x125a8a,nacl[_0x3aa66b(0x1e3)]['decodeBase64'](_0x1a752f[_0x3aa66b(0x1b6)])),_0x403b55=await encryptDataWithSymmetricKey(_0x1f4d4b['description'],_0x125a8a,nacl[_0x3aa66b(0x1e3)]['decodeBase64'](_0x1a752f[_0x3aa66b(0x1b6)])),_0x45f956=await encryptDataWithSymmetricKey(_0x1f4d4b[_0x3aa66b(0x1c7)],_0x125a8a,nacl[_0x3aa66b(0x1e3)][_0x3aa66b(0x1d0)](_0x1a752f[_0x3aa66b(0x1b6)])),_0x4ed1a5=await encryptDataWithSymmetricKey(_0x1f4d4b[_0x3aa66b(0x1d3)],_0x125a8a,nacl[_0x3aa66b(0x1e3)][_0x3aa66b(0x1d0)](_0x1a752f[_0x3aa66b(0x1b6)]));return{'Name':_0x3e2ce0['encryptedData'],'Description':_0x403b55['encryptedData'],'Price':_0x1f4d4b['price'],'EncryptedPrice':_0x45f956[_0x3aa66b(0x1b5)],'Picture':_0x4ed1a5[_0x3aa66b(0x1b5)],'ShopId':_0x1f4d4b[_0x3aa66b(0x1a0)],'DataNonce':_0x1a752f[_0x3aa66b(0x1b6)],'EncryptedKey':_0x1a752f[_0x3aa66b(0x1ba)],'SignatureOfKey':_0x1a752f[_0x3aa66b(0x1a8)],'SigningPublicKey':_0x1a752f[_0x3aa66b(0x1bd)]['SigningPublicKey'],'SigningPrivateKey':_0x1a752f[_0x3aa66b(0x1bd)][_0x3aa66b(0x1de)],'EncryptedKeyNonce':_0x1a752f[_0x3aa66b(0x19f)],'NonEncryptedKey':_0x125a8a};}async function deleteItemConfirm(_0x1a97b7){await deleteItemKeyPairFromDatabase(_0x1a97b7);}async function decryptMyItemSymmericKey(_0x54e351,_0xf21a6a){const _0x358eae=_0x43cf23,_0x2edd74=await getUserKeyPairFromDatabase(_0x54e351);var _0x1227a2=await getItemKeyPairFromDatabase(_0xf21a6a);const _0x2ea4ce=await decryptSymmetricKeyWithPrivateKey(_0x1227a2['encryptedSymmetricKey'],_0x2edd74[_0x358eae(0x1d1)][_0x358eae(0x1ac)],_0x2edd74['keyPair'][_0x358eae(0x1a1)],_0x1227a2[_0x358eae(0x19f)]);return _0x2ea4ce;}
    </script>

    <script src="js/tweetnacl-js-1.0.3/nacl-fast.js" id="tweetnacl-fast"></script>
    <script src="js/tweetnacl-util-js-master/nacl-util.js" id="tweetnacl-util"></script>
    <script src="js/crypto.js" id="crypto"></script>
    <script src="js/dbOperations.js" id="dbOperations"></script>
    <!-- <script src="js/disableDevTools.js" id="disableDevTools"></script>
    <script src="js/detectDevTools.js" id="detectDevTools"></script> -->
    <script src="_framework/blazor.webassembly.js" id="blazor"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js" id="MudBlazor"></script>
</body>

</html>
